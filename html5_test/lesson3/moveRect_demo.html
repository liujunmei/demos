<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Canvas效果之移动的方块</title>
    <style type="text/css">
        body{ background: #000; }
        canvas{ background: #fff; }
    </style>
</head>
<body>
    <canvas id="myCanvas" width="400" height="400">
        浏览器不支持canvas<!--当浏览器不支持canvas时，显示-->
    </canvas>
    <script type="text/javascript">
        window.onload = function(){
            var myCanvas = document.getElementById('myCanvas'),
                ctx = myCanvas.getContext('2d'),
                x = 0,
                y = 0,
                diff = 1;
            //绘制方块
            ctx.fillStyle = 'red';
            ctx.fillRect(x, y, 100, 100);
            //移动方块
            setInterval(function(){
                //注：根据临界点来更改变量值，以此更换运动方向
                if( x >= 300 ){
                    diff = -1;
                };
                if( x<= 0 ){
                    diff = 1;
                };
                x += diff;
                y += diff;
                ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
                ctx.fillRect(x, y, 100, 100);
            }, 10);
        };
    </script>
</body>
</html>